{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"/home/lisk/doomonlisk/src/app/build/react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _objectSpread = require(\"/home/lisk/doomonlisk/src/app/build/react-app/node_modules/@babel/runtime/helpers/objectSpread2\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateTransaction = void 0;\n\nvar lisk_validator_1 = require(\"@liskhq/lisk-validator\");\n\nvar schema_1 = require(\"./schema\");\n\nvar validateTransaction = function validateTransaction(assetSchema, transactionObject) {\n  var transactionObjectWithEmptyAsset = _objectSpread(_objectSpread({}, transactionObject), {}, {\n    asset: Buffer.alloc(0)\n  });\n\n  var schemaErrors = lisk_validator_1.validator.validate(schema_1.baseTransactionSchema, transactionObjectWithEmptyAsset);\n\n  if (schemaErrors.length) {\n    return new lisk_validator_1.LiskValidationError(_toConsumableArray(schemaErrors));\n  }\n\n  if (typeof transactionObject.asset !== 'object' || transactionObject.asset === null) {\n    return new Error('Transaction object asset must be of type object and not null');\n  }\n\n  var assetSchemaErrors = lisk_validator_1.validator.validate(assetSchema, transactionObject.asset);\n\n  if (assetSchemaErrors.length) {\n    return new lisk_validator_1.LiskValidationError(_toConsumableArray(assetSchemaErrors));\n  }\n\n  return undefined;\n};\n\nexports.validateTransaction = validateTransaction;","map":{"version":3,"sources":["../src/validate.ts"],"names":[],"mappings":";;;;;;;;;;;AAeA,IAAA,gBAAA,GAAA,OAAA,CAAA,wBAAA,CAAA;;AACA,IAAA,QAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;AAEO,IAAM,mBAAmB,GAAG,SAAtB,mBAAsB,CAClC,WADkC,EAElC,iBAFkC,EAGU;AAC5C,MAAM,+BAA+B,mCACjC,iBADiC;AAEpC,IAAA,KAAK,EAAE,MAAM,CAAC,KAAP,CAAa,CAAb;AAF6B,IAArC;;AAIA,MAAM,YAAY,GAAG,gBAAA,CAAA,SAAA,CAAU,QAAV,CAAmB,QAAA,CAAA,qBAAnB,EAA0C,+BAA1C,CAArB;;AACA,MAAI,YAAY,CAAC,MAAjB,EAAyB;AACxB,WAAO,IAAI,gBAAA,CAAA,mBAAJ,oBAA4B,YAA5B,EAAP;AACA;;AAED,MAAI,OAAO,iBAAiB,CAAC,KAAzB,KAAmC,QAAnC,IAA+C,iBAAiB,CAAC,KAAlB,KAA4B,IAA/E,EAAqF;AACpF,WAAO,IAAI,KAAJ,CAAU,8DAAV,CAAP;AACA;;AACD,MAAM,iBAAiB,GAAG,gBAAA,CAAA,SAAA,CAAU,QAAV,CAAmB,WAAnB,EAAgC,iBAAiB,CAAC,KAAlD,CAA1B;;AACA,MAAI,iBAAiB,CAAC,MAAtB,EAA8B;AAC7B,WAAO,IAAI,gBAAA,CAAA,mBAAJ,oBAA4B,iBAA5B,EAAP;AACA;;AACD,SAAO,SAAP;AACA,CArBM;;AAAM,OAAA,CAAA,mBAAA,GAAmB,mBAAnB","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTransaction = void 0;\nconst lisk_validator_1 = require(\"@liskhq/lisk-validator\");\nconst schema_1 = require(\"./schema\");\nconst validateTransaction = (assetSchema, transactionObject) => {\n    const transactionObjectWithEmptyAsset = {\n        ...transactionObject,\n        asset: Buffer.alloc(0),\n    };\n    const schemaErrors = lisk_validator_1.validator.validate(schema_1.baseTransactionSchema, transactionObjectWithEmptyAsset);\n    if (schemaErrors.length) {\n        return new lisk_validator_1.LiskValidationError([...schemaErrors]);\n    }\n    if (typeof transactionObject.asset !== 'object' || transactionObject.asset === null) {\n        return new Error('Transaction object asset must be of type object and not null');\n    }\n    const assetSchemaErrors = lisk_validator_1.validator.validate(assetSchema, transactionObject.asset);\n    if (assetSchemaErrors.length) {\n        return new lisk_validator_1.LiskValidationError([...assetSchemaErrors]);\n    }\n    return undefined;\n};\nexports.validateTransaction = validateTransaction;\n//# sourceMappingURL=validate.js.map"]},"metadata":{},"sourceType":"script"}